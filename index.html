<!DOCTYPE html>
<html lang="fr">
    <head>
    <!-- METADATA -->
        <meta charset="utf-8">
        <title>Viking Search</title>
        <link href="./style.css" rel="stylesheet" type="text/css">
        <link rel="icon" href="./logos/Vikidia_recherche_2.png" type="image/png">
    </head>

    <body>
    <!-- BODY -->
        <div class="info_projet">
            <a href="index.html"><img src="./logos/Vikidia_recherche_2.png" alt="logo"></a>
            <a href="index.html" id="title_site">Viking Search</a>
            <a href="quiSommesNous.html"><p id="last">Qui sommes-nous ?</p></a>
            <a href="aPropos.html"><p>A propos</p></a>
        </div>

        <div class="search_zone">
            <img src="./logos/viking.png" alt="logo" id="logo_recherche">
            <!-- Barre de recherche -->
            <input type="text" placeholder="Tapez ici pour rechercher...">
            <br>
        
            <!-- Bouton clic recherche -->
            <label id="search_button" for="check_for_search">> Rechercher</label>
            <!--Bouton caché permettant de lancer la recherche-->
            <input type="radio" name="check_for_search" value="check_for_search" id="check_for_search">

            <!-- ############################### -->            
            <!--CADRE AFFICHAGE DE LA RECHERCHE-->
            <div class="contenu_affiche">
                <h1>Résultats de la recherche Viking</h1>
                <p style="padding-bottom: 100px;">Aucun résultat trouvé.</p>

                <!-- Script JS pour lancer la recherche -->
                <script>
                    // Récupération des éléments HTML
                    const searchButton = document.getElementById("search_button");
                    const searchInput = document.getElementById("search_input");
                    // Fonction pour envoyer une requête au script python
                    function runPythonScript(input) {
                        fetch(`index.py?input=${input}`)
                            .then(response => response.text())
                            .then(data => {
                                // Remplace le contenu HTML de la div 'contenu_affiche' avec le contenu renvoyé par le script python
                                const contenuAffiche = document.querySelector('.contenu_affiche');
                                contenuAffiche.innerHTML = data;
                            })
                            .catch(error => console.error(error));
                    }
                    // Action à effectuer lorsque le bouton de recherche est pressé
                    searchButton.addEventListener("click", () => {
                        const input = searchInput.value.trim();
                        if (input !== "") {
                            runPythonScript(input);
                        }
                    });
                </script>

    <!-- FIN DU CADRE D'AFFICHAGE DE LA RECHERCHE-->
    <!-- ############################### -->   
    </div>
    
</div>

<!-- FOOTER -->
<footer>
    <div class="info_bas">
        <a href="index.html"><img src="./logos/Vikidia_recherche_2.png" alt="logo">
        <p id="title_bas">Viking Search - Le portail de recherche Vikidia</p></a>
    </div>
</footer>

</body>
</html>